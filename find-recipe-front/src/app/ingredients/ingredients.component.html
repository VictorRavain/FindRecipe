<main class="ingredients-container" [class.active]="isMobileView">

  <div class="add-div">
    <button (click)="AddIngredientComponent.openModal()" class="add-button">Ajouter un ingredient</button>
    <app-add-ingredient #AddIngredientComponent></app-add-ingredient>
  </div>
  
  <div *ngIf="isLoading" class="loading">
    <p>Loading ingredients...</p>
  </div>
  <div *ngIf="!isLoading && ingredients.length === 0" class="no-ingredients">
    <p>No ingredients found.</p>
  </div>
  <div *ngIf="!isLoading && ingredients.length > 0">
    <ng-container *ngFor="let category of categorizedIngredients">
      <section class="category-section">
        <h1 class="category-title">{{ category.type }}</h1>
        <div class="ingredients-grid">
          <div
            *ngFor="let ingredient of category.ingredients"
            class="ingredient-card"
          >
            <button
              class="delete-button"
              (click)="deleteIngredient(ingredient)"
              [class.active]="isMobileView"
            >
              ✕
            </button>
            <img
              [src]="ingredient.image"
              alt="{{ ingredient.name }}"
              class="ingredient-image"
            />
            <div class="ingredient-details">
              <h3 class="ingredient-name">{{ ingredient.name }}</h3>
              <p class="ingredient-quantity">Quantité : {{ ingredient.quantite + ingredient.unite}}</p>
            </div>
          </div>
        </div>
      </section>
    </ng-container>
  </div>
</main>
